backend:
  name: github
  repo: gokurakuteam/gokuraku-reader # Твій репозиторій
  branch: main # Гілка, в яку будуть зберігатися зміни

# Налаштування для картинок
media_library:
  name: cloudinary
  config:
    cloud_name: dj2ojemoi
    api_key: 914653754994184
    default_transformations:
      - [quality, auto] # Автоматична оптимізація якості
      - [fetch_format, auto] # Автоматичний формат (webp/avif)

collections:
  - name: "data"
    label: "База даних"
    files:
      - file: "manga-data.json"
        name: "manga_db"
        label: "Манґа"
        fields:
          - name: "manga"
            label: "Список Тайтлів"
            widget: "list"
            collapsed: true
            summary: "Example: {{title}} ({{status}}) - Розділів: {{chapters.length}}"
            # --- НОВІ НАЛАШТУВАННЯ ---
            sortable_fields: ["title", "latestUpdate", "status"] # Дозволяє сортувати кліком по заголовку
            view_groups: # Додає вкладки для швидкого фільтру
              - label: "За статусом"
                field: "status"
              - label: "За типом"
                field: "type"
            view_filters: # Швидкі фільтри
              - label: "Тільки ті, що виходять"
                field: "status"
                pattern: "Виходить"
            fields:
              - {label: "ID (число)", name: "id", widget: "number", value_type: "int"}
              - {label: "Назва", name: "title", widget: "string"}
              - {label: "Опис", name: "description", widget: "text"}
              - {label: "Обкладинка", name: "coverImage", widget: "image"}
              - {label: "Фон", name: "backgroundImage", widget: "image"}
              - {label: "Тип", name: "type", widget: "select", options: ["Манхва", "Манґа"], default: "Манхва"}
              - {label: "Статус", name: "status", widget: "select", options: ["Виходить", "Завершено"], default: "Виходить"}
              - {label: "Жанри", name: "genres", widget: "list"}
              
              # Вкладений список розділів
              - label: "Розділи"
                name: "chapters"
                widget: "list"
                collapsed: true
                summary: "Том {{volume}} - Розділ {{chapter}}"
                fields:
                  - {label: "ID Розділу (унікальне число)", name: "id", widget: "number", value_type: "int"}
                  - {label: "Том", name: "volume", widget: "number", value_type: "int", default: 1}
                  - {label: "Номер розділу", name: "chapter", widget: "number", value_type: "float"}
                  - {label: "Назва розділу (необов'язково)", name: "title", widget: "string", required: false}
                  - {label: "Дата оновлення", name: "latestUpdate", widget: "datetime", default: ""}
                  
                  # Вкладений список сторінок (картинок)
                  - label: "Сторінки"
                    name: "pages"
                    widget: "list"
                    collapsed: true # Згортає список, щоб не займав пів екрану
                    minimize_collapsed: true # Робить список ще компактнішим
                    summary: "{{fields.image}}" # ПОКРАЩЕННЯ: Показує мініатюру прямо в списку!
                    field: # Увага: тут 'field' (однина), бо у нас тільки картинка всередині
                      label: "Зображення"
                      name: "image"
                      widget: "image"
                      # МАГІЯ ТУТ: Дозволяє вибрати багато файлів за раз
                      media_library:
                        config:
                          multiple: true